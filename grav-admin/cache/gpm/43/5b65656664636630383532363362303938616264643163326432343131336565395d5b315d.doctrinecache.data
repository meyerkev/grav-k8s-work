1635553761
s:23002:"{"version":"1.7.24","date":"2021-10-26T19:46:02Z","assets":{"grav-admin":{"name":"grav-admin-v1.7.24.zip","type":"binary\/octet-stream","size":18513443,"download":"https:\/\/getgrav.org\/download\/core\/grav-admin\/1.7.24"},"grav-update":{"name":"grav-update-v1.7.24.zip","type":"binary\/octet-stream","size":9066007,"download":"https:\/\/getgrav.org\/download\/core\/grav-update\/1.7.24"},"grav":{"name":"grav-v1.7.24.zip","type":"binary\/octet-stream","size":11242398,"download":"https:\/\/getgrav.org\/download\/core\/grav\/1.7.24"}},"url":"https:\/\/github.com\/getgrav\/grav\/releases\/tag\/1.7.24","min_php":"7.1.3","changelog":{"1.7.24":{"date":"10\/26\/2021","content":"1. [](#new)\n    * Added support for image watermarks\n    * Added support to disable a form, making it readonly\n2. [](#improved)\n    * Flex `$user->authorize()` now checks user groups before `admin.super`, allowing deny rules to work properly\n3. [](#bugfix)\n    * Fixed a bug in `PermissionsReader` in PHP 7.3\n    * Fixed `session_store_active` language option (#3464)\n    * Fixed deprecated warnings on `ArrayAccess` in PHP 8.1\n    * Fixed XSS detection with `&colon;`"},"1.7.23":{"date":"09\/29\/2021","content":"1. [](#new)\n    * Added method `Pages::referrerRoute()` to get the referrer route and language\n    * Added true unique `Utils::uniqueId()` \/ `{{ unique_id() }}` utilities  with length, prefix, and suffix support\n    * Added `UserObject::isMyself()` method to check if flex user is currently logged in\n    * Added support for custom form field options validation with `validate: options: key|ignore`\n2. [](#improved)\n   * Replaced GPL `SVG-Sanitizer` with MIT licensed `DOM-Sanitizer`\n   * `Uri::referrer()` now accepts third parameter, if set to `true`, it returns route without base or language code [#3411](https:\/\/github.com\/getgrav\/grav\/issues\/3411)\n   * Updated vendor libs with latest\n   * Updated with latest language strings via Crowdin.com\n3. [](#bugfix)\n    * Fixed `Folder::move()` throwing an error when target folder is changed by only appending characters to the end [#3445](https:\/\/github.com\/getgrav\/grav\/issues\/3445)\n    * Fixed some phpstan issues (all code back to level 1, Framework level 3)\n    * Fixed form reset causing image uploads to fail when using Flex"},"1.7.22":{"date":"09\/16\/2021","content":"1. [](#new)\n    * Register plugin autoloaders into plugin objects\n2. [](#improved)\n    * Improve Twig 2 compatibility\n    * Update to customized version of Twig DeferredExtension (Twig 1\/2 compatible)\n3. [](#bugfix)\n    * Fixed conflicting `$_original` variable in `Flex Pages`"},"1.7.21":{"date":"09\/14\/2021","content":"1. [](#new)\n    * Added `|yaml` filter to convert input to YAML\n    * Added `route` and `request` to `onPageNotFound` event\n    * Added file upload\/remove support for `Flex Forms`\n    * Added support for `flex-required@: not exists` and `flex-required@: '!exists'` in blueprints\n    * Added `$object->getOriginalData()` to get flex objects data before it was modified with `update()`\n    * Throwing exceptions from Twig templates fires `onDisplayErrorPage.[code]` event allowing better error pages\n2. [](#improved)\n    * Use a simplified text-based `cron` field for scheduler\n    * Add timestamp to logging output of scheduler jobs to see when they ran\n3. [](#bugfix)\n    * Fixed escaping in PageIndex::getLevelListing()\n    * Fixed validation of `number` type [#3433](https:\/\/github.com\/getgrav\/grav\/issues\/3433)\n    * Fixed excessive `security.yaml` file creation [#3432](https:\/\/github.com\/getgrav\/grav\/issues\/3432)\n    * Fixed incorrect port :0 with nginx unix socket setup [#3439](https:\/\/github.com\/getgrav\/grav\/issues\/3439)\n    * Fixed `Session::setFlashCookieObject()` to use the same options as the main session cookie"},"1.7.20":{"date":"09\/01\/2021","content":"2. [](#improved)\n    * Added support for `task` and `action` inside JSON request body"},"1.7.19":{"date":"08\/31\/2021","content":"1. [](#new)\n    * Include active form and request in `onPageTask` and `onPageAction` events (defaults to `null`)\n    * Added `UserObject::$authorizeCallable` to allow `$user->authorize()` customization\n2. [](#improved)\n    * Added meta support for `UploadedFile` class\n    * Added support for multiple mime-types per file extension [#3422](https:\/\/github.com\/getgrav\/grav\/issues\/3422)\n    * Added `setCurrent()` method to Page Collection [#3398](https:\/\/github.com\/getgrav\/grav\/pull\/3398)\n    * Initialize `$grav['uri']` before session\n3. [](#bugfix)\n    * Fixed `Warning: Undefined array key \"SERVER_SOFTWARE\" in index.php` [#3408](https:\/\/github.com\/getgrav\/grav\/issues\/3408)\n    * Fixed error in `loadDirectoryConfig()` if configuration hasn't been saved [#3409](https:\/\/github.com\/getgrav\/grav\/issues\/3409)\n    * Fixed GPM not using non-standard cache path [#3410](https:\/\/github.com\/getgrav\/grav\/issues\/3410)\n    * Fixed broken `environment:\/\/` stream when it doesn't have configuration\n    * Fixed `Flex Object` missing key field value when using `FolderStorage`\n    * Fixed broken Twig try tag when catch has not been defined or is empty\n    * Fixed `FlexForm` serialization\n    * Fixed form validation for numeric values in PHP 8\n    * Fixed `flex-options@` in blueprints duplicating items in array\n    * Fixed wrong form issue with flex objects after cache clear\n    * Fixed Flex object types not implementing `MediaInterface`\n    * Fixed issue with `svgImageFunction()` that was causing broken output"},"1.7.18":{"date":"07\/19\/2021","content":"1. [](#improved)\n    * Added support for loading Flex Directory configuration from main configuration\n    * Move SVGs that cannot be sanitized to quarantine folder under `log:\/\/quarantine`\n    * Added support for CloudFlare-forwarded client IP in the `URI::ip()` method\n1. [](#bugfix)\n    * Fixed error when using Flex `SimpleStorage` with no entries\n    * Fixed page search to include slug field [#3316](https:\/\/github.com\/getgrav\/grav\/issues\/3316)\n    * Fixed Admin becoming unusable when GPM cannot be reached [#3383](https:\/\/github.com\/getgrav\/grav\/issues\/3383)\n    * Fixed `Failed to save entry: Forbidden` when moving a page to a visible page [#3389](https:\/\/github.com\/getgrav\/grav\/issues\/3389)\n    * Better support for Symfony local server on linux [#3400](https:\/\/github.com\/getgrav\/grav\/pull\/3400)\n    * Fixed `open_basedir()` error with some forms"},"1.7.17":{"date":"06\/15\/2021","content":"1. [](#new)\n    * Interface `FlexDirectoryInterface` now extends `FlexAuthorizeInterface`\n1. [](#improved)\n    * Allow to unset an asset attribute by specifying null (ie, `'defer': null`)\n    * Support specifying custom attributes to assets in a collection [Read more](https:\/\/learn.getgrav.org\/17\/themes\/asset-manager#collections-with-attributes?target=_blank) [#3358](https:\/\/github.com\/getgrav\/grav\/issues\/3358)\n    * File `frontmatter.yaml` isn't part of media, ignore it\n    * Switched default `JQuery` collection to use 3.x rather than 2.x\n1. [](#bugfix)\n    * Fixed missing styles when CSS\/JS Pipeline is used and `asset:\/\/` folder is missing\n    * Fixed permission check when moving a page [#3382](https:\/\/github.com\/getgrav\/grav\/issues\/3382)"},"1.7.16":{"date":"06\/02\/2021","content":"1. [](#new)\n    * Added 'addFrame()' method to ImageMedium [#3323](https:\/\/github.com\/getgrav\/grav\/pull\/3323)\n1. [](#improved)\n    * Set `cache.clear_images_by_default` to `false` by default\n    * Improve error on bad nested form data [#3364](https:\/\/github.com\/getgrav\/grav\/issues\/3364)\n1. [](#bugfix)\n    * Improve Plugin and Theme initialization to fix PHP8 bug [#3368](https:\/\/github.com\/getgrav\/grav\/issues\/3368)\n    * Fixed `pathinfo()` twig filter in PHP7\n    * Fixed the first visible child page getting ordering number `999999.` [#3365](https:\/\/github.com\/getgrav\/grav\/issues\/3365)\n    * Fixed flex pages search using only folder name [#3316](https:\/\/github.com\/getgrav\/grav\/issues\/3316)\n    * Fixed flex pages using wrong type in `onBlueprintCreated` event [#3157](https:\/\/github.com\/getgrav\/grav\/issues\/3157)\n    * Fixed wrong SRI paths invoked when Grav instance as a sub folder [#3358](https:\/\/github.com\/getgrav\/grav\/issues\/3358)\n    * Fixed SRI trying to calculate remote assets, only ever set integrity for local files. Use the SRI provided by the remote source and manually add it in the `addJs\/addCss` call for remote support. [#3358](https:\/\/github.com\/getgrav\/grav\/issues\/3358)\n    * Fix for weird regex issue with latest PHP versions on Intel Macs causing params to not parse properly in URI object"},"1.7.15":{"date":"05\/19\/2021","content":"1. [](#improved)\n    * Allow optional start date in page collections [#3350](https:\/\/github.com\/getgrav\/grav\/pull\/3350)\n    * Added `page` and `output` properties to `onOutputGenerated` and `onOutputRendered` events\n1. [](#bugfix)\n    * Fixed twig deprecated TwigFilter messages [#3348](https:\/\/github.com\/getgrav\/grav\/issues\/3348)\n    * Fixed fatal error with some markdown links [getgrav\/grav-premium-issues#95](https:\/\/github.com\/getgrav\/grav-premium-issues\/issues\/95)\n    * Fixed markdown media operations not working when using `image:\/\/` stream [#3333](https:\/\/github.com\/getgrav\/grav\/issues\/3333) [#3349](https:\/\/github.com\/getgrav\/grav\/issues\/3349)\n    * Fixed copying page without changing the slug [getgrav\/grav-plugin-admin#2135](https:\/\/github.com\/getgrav\/grav-plugin-admin\/issues\/2139)\n    * Fixed missing and commonly used methods when using `system.twig.undefined_functions = false` [getgrav\/grav-plugin-admin#2138](https:\/\/github.com\/getgrav\/grav-plugin-admin\/issues\/2138)\n    * Fixed uploading images into Flex Object if field destination is not set"},"1.7.14":{"date":"04\/29\/2021","content":"1. [](#new)\n    * Added `MediaUploadTrait::checkFileMetadata()` method\n1. [](#improved)\n    * Updating a theme should always keep the custom files [getgrav\/grav-plugin-admin#2135](https:\/\/github.com\/getgrav\/grav-plugin-admin\/issues\/2135)\n1. [](#bugfix)\n    * Fixed broken numeric language codes in Flex Pages [#3332](https:\/\/github.com\/getgrav\/grav\/issues\/3332)\n    * Fixed broken `exif_imagetype()` twig function"},"1.7.13":{"date":"04\/23\/2021","content":"1. [](#new)\n    * Added support for getting translated collection of Flex Pages using `$collection->withTranslated('de')`\n1. [](#improved)\n    * Moved `gregwar\/Image` and `gregwar\/Cache` in-house to official `getgrav\/Image` and `getgrav\/Cache` packagist packages. This will help environments with very strict proxy setups that don't allow VCS setup. [#3289](https:\/\/github.com\/getgrav\/grav\/issues\/3289)\n    * Improved XSS Invalid Protocol detection regex [#3298](https:\/\/github.com\/getgrav\/grav\/issues\/3298)\n    * Added support for user provided folder in Flex `$page->copy()`\n1. [](#bugfix)\n    * Fixed `The \"Grav\/Common\/Twig\/TwigExtension\" extension is not enabled` when using markdown twig tag [#3317](https:\/\/github.com\/getgrav\/grav\/issues\/3317)\n    * Fixed text field maxlength validation newline issue [#3324](https:\/\/github.com\/getgrav\/grav\/issues\/3324)\n    * Fixed a bug in Flex Object `refresh()` method"},"1.7.12":{"date":"04\/15\/2021","content":"1. [](#improved)\n    * Improve JSON support for the request\n1. [](#bugfix)\n    * Fixed absolute path support for Windows [#3297](https:\/\/github.com\/getgrav\/grav\/issues\/3297)\n    * Fixed adding tags in admin after upgrading Grav [#3315](https:\/\/github.com\/getgrav\/grav\/issues\/3315)"},"1.7.11":{"date":"04\/13\/2021","content":"1. [](#new)\n    * Added configuration options to allow PHP methods to be used in Twig functions (`system.twig.safe_functions`) and filters (`system.twig.safe_filters`)\n    * Deprecated using PHP methods in Twig without them being in the safe lists\n    * Prevent dangerous PHP methods from being used as Twig functions and filters\n    * Restrict filesystem Twig functions to accept only local filesystem and grav streams\n1. [](#improved)\n    * Better GPM detection of unauthorized installations\n1. [](#bugfix)\n  * **IMPORTANT** Fixed security vulnerability with Twig allowing dangerous PHP functions by default [GHSA-g8r4-p96j-xfxc](https:\/\/github.com\/getgrav\/grav\/security\/advisories\/GHSA-g8r4-p96j-xfxc)\n    * Fixed nxinx appending repeating `?_url=` in some redirects\n    * Fixed deleting page with language code not removing the folder if it was the last language [#3305](https:\/\/github.com\/getgrav\/grav\/issues\/3305)\n    * Fixed fatal error when using markdown links with `image:\/\/` stream [#3285](https:\/\/github.com\/getgrav\/grav\/issues\/3285)\n    * Fixed `system.languages.session_store_active` not having any effect [#3269](https:\/\/github.com\/getgrav\/grav\/issues\/3269)\n    * Fixed fatal error if `system.pages.types` is not an array [#2984](https:\/\/github.com\/getgrav\/grav\/issues\/2984)"},"1.7.10":{"date":"04\/06\/2021","content":"1. [](#new)\n    * Added initial support for running Grav library from outside the webroot [#3297](https:\/\/github.com\/getgrav\/grav\/issues\/3297)\n1. [](#improved)\n    * Improved password handling when saving a user\n1. [](#bugfix)\n    * Ignore errors when using `set_time_limit` in `Archiver` and `GPM\\Response` classes [#3023](https:\/\/github.com\/getgrav\/grav\/issues\/3023)\n    * Fixed `Folder::move()` deleting the folder if you move folder into itself, created empty file instead\n    * Fixed moving `Flex Page` to itself causing the page to be lost [#3227](https:\/\/github.com\/getgrav\/grav\/issues\/3227)\n    * Fixed `PageStorage` from detecting files as pages\n    * Fixed `UserIndex` not implementing `UserCollectionInterface`\n    * Fixed missing `onAdminAfterDelete` event call in `Flex Pages`\n    * Fixed system templates not getting scanned [#3296](https:\/\/github.com\/getgrav\/grav\/issues\/3296)\n    * Fixed incorrect routing if url path looks like a domain name [#2184](https:\/\/github.com\/getgrav\/grav\/issues\/2184)"},"1.7.9":{"date":"03\/19\/2021","content":"1. [](#new)\n    * Added `Media::hide()` method to hide files from media\n    * Added `Utils::getPathFromToken()` method which works also with `Flex Objects`\n    * Added `FlexMediaTrait::getMediaField()`, which can be used to access custom media set in the blueprint fields\n    * Added `FlexMediaTrait::getFieldSettings()`, which can be used to get media field settings\n1. [](#improved)\n    * Method `Utils::getPagePathFromToken()` now calls the more generic `Utils::getPathFromToken()`\n    * Updated `SECURITY.md` to use security@getgrav.org\n1. [](#bugfix)\n    * Fixed broken media upload in `Flex` with `@self\/path`, `@page` and `@theme` destinations [#3275](https:\/\/github.com\/getgrav\/grav\/issues\/3275)\n    * Fixed media fields excluding newly deleted files before saving the object\n    * Fixed method `$pages->find()` should never redirect [#3266](https:\/\/github.com\/getgrav\/grav\/pull\/3266)\n    * Fixed `Page::activeChild()` throwing an error [#3276](https:\/\/github.com\/getgrav\/grav\/issues\/3276)\n    * Fixed `Flex Page` CRUD ACL when creating a new page (needs Flex Objects plugin update) [grav-plugin-flex-objects#115](https:\/\/github.com\/trilbymedia\/grav-plugin-flex-objects\/issues\/115)\n    * Fixed the list of pages not showing up in admin [#3280](https:\/\/github.com\/getgrav\/grav\/issues\/3280)\n    * Fixed text field min\/max validation for UTF8 characters [#3281](https:\/\/github.com\/getgrav\/grav\/issues\/3281)\n    * Fixed redirects using wrong redirect code"},"1.7.8":{"date":"03\/17\/2021","content":"1. [](#new)\n    * Added `ControllerResponseTrait::createDownloadResponse()` method\n    * Added full blueprint support to theme if you move existing files in `blueprints\/` to `blueprints\/pages\/` folder [#3255](https:\/\/github.com\/getgrav\/grav\/issues\/3255)\n    * Added support for `Theme::getFormFieldTypes()` just like in plugins\n1. [](#improved)\n    * Optimized `Flex Pages` for speed\n    * Optimized saving visible\/ordered pages when there are a lot of siblings [#3231](https:\/\/github.com\/getgrav\/grav\/issues\/3231)\n    * Clearing cache now deletes all clockwork files\n    * Improved `system.pages.redirect_default_route` and `system.pages.redirect_trailing_slash` configuration options to accept redirect code\n1. [](#bugfix)\n    * Fixed clockwork error when clearing cache\n    * Fixed missing method `translated()` in `Flex Pages`\n    * Fixed missing `Flex Pages` in site if multi-language support has been enabled\n    * Fixed Grav using blueprints and form fields from disabled plugins\n    * Fixed `FlexIndex::sortBy(['key' => 'ASC'])` having no effect\n    * Fixed default Flex Pages collection ordering to order by filesystem path\n    * Fixed disappearing pages on save if `pages:\/\/` stream resolves to multiple folders where the preferred folder doesn't exist\n    * Fixed Markdown image attribute `loading` [#3251](https:\/\/github.com\/getgrav\/grav\/pull\/3251)\n    * Fixed `Uri::isValidExtension()` returning false positives\n    * Fixed `page.html` returning duplicated content with `system.pages.redirect_default_route` turned on [#3130](https:\/\/github.com\/getgrav\/grav\/issues\/3130)\n    * Fixed site redirect with redirect code failing when redirecting to sub-pages [#3035](https:\/\/github.com\/getgrav\/grav\/pull\/3035\/files)\n    * Fixed `Uncaught ValueError: Path cannot be empty` when failing to upload a file [#3265](https:\/\/github.com\/getgrav\/grav\/issues\/3265)\n    * Fixed `Path cannot be empty` when viewing non-existent log file [#3270](https:\/\/github.com\/getgrav\/grav\/issues\/3270)\n    * Fixed `onAdminSave` original page having empty header [#3259](https:\/\/github.com\/getgrav\/grav\/issues\/3259)"},"1.7.7":{"date":"02\/23\/2021","content":"1. [](#new)\n    * Added `Utils::arrayToQueryParams()` to convert an array into query params\n1. [](#improved)\n    * Added original image support for all flex objects and media fields\n    * Improved `Pagination` class to allow custom pagination query parameter\n1. [](#bugfix)\n    * Fixed avatar of the user not being saved [grav-plugin-flex-objects#111](https:\/\/github.com\/trilbymedia\/grav-plugin-flex-objects\/issues\/111)\n    * Replaced special space character with regular space in `system\/blueprints\/user\/account_new.yaml`"},"1.7.6":{"date":"02\/17\/2021","content":"1. [](#new)\n    * Added `Medium::attribute()` to pass arbitrary attributes [#3065](https:\/\/github.com\/getgrav\/grav\/pull\/3065)\n    * Added `Plugins::getPlugins()` and `Plugins::getPlugin($name)` to make it easier to access plugin instances [#2277](https:\/\/github.com\/getgrav\/grav\/pull\/2277)\n    * Added `regex_match` and `regex_split` twig functions [#2788](https:\/\/github.com\/getgrav\/grav\/pull\/2788)\n    * Updated all languages from [Crowdin](https:\/\/crowdin.com\/project\/grav-core) - Please update any translations here\n1. [](#improved)\n    * Added abstract `FlexObject`, `FlexCollection` and `FlexIndex` classes to `\\Grav\\Common\\Flex` namespace (extend those instead of Framework or Generic classes)\n    * Updated bundled `composer.phar` binary to latest version `2.0.9`\n    * Improved session fixation handling in PHP 7.4+ (cannot fix it in PHP 7.3 due to PHP bug)\n    * Added optional password\/database attributes for redis in `system.yaml`\n    * Added ability to filter enabled or disabled with bin\/gpm index [#3187](https:\/\/github.com\/getgrav\/grav\/pull\/3187)\n    * Added `$grav->getVersion()` or `grav.version` in twig to get the current Grav version [#3142](https:\/\/github.com\/getgrav\/grav\/issues\/3142)\n    * Added second parameter to `$blueprint->flattenData()` to include every field, including those which have no data\n    * Added support for setting session domain [#2040](https:\/\/github.com\/getgrav\/grav\/pull\/2040)\n    * Better support inheriting languages when using child themes [#3226](https:\/\/github.com\/getgrav\/grav\/pull\/3226)\n    * Added option for `FlexForm` constructor to reset the form\n1. [](#bugfix)\n    * Fixed issue with `content-security-policy` not being properly supported with `http-equiv` + support single quotes\n    * Fixed CLI progressbar in `backup` and `security` commands to use styled output [#3198](https:\/\/github.com\/getgrav\/grav\/issues\/3198)\n    * Fixed page save failing because of uploaded images [#3191](https:\/\/github.com\/getgrav\/grav\/issues\/3191)\n    * Fixed `Flex Pages` using only default language in frontend [#106](https:\/\/github.com\/trilbymedia\/grav-plugin-flex-objects\/issues\/106)\n    * Fixed empty `route()` and `raw_route()` when getting translated pages [#3184](https:\/\/github.com\/getgrav\/grav\/pull\/3184)\n    * Fixed error on `bin\/gpm plugin uninstall` [#3207](https:\/\/github.com\/getgrav\/grav\/issues\/3207)\n    * Fixed broken min\/max validation for field `type: int`\n    * Fixed lowering uppercase characters in usernames when saving from frontend [#2565](https:\/\/github.com\/getgrav\/grav\/pull\/2565)\n    * Fixed save error when editing accounts that have been created with capital letters in their username [#3211](https:\/\/github.com\/getgrav\/grav\/issues\/3211)\n    * Fixed renaming flex objects key when using file storage\n    * Fixed wrong values in Admin pages list [#3214](https:\/\/github.com\/getgrav\/grav\/issues\/3214)\n    * Fixed pipelined asset using different hash when extra asset is added to before\/after position [#2781](https:\/\/github.com\/getgrav\/grav\/issues\/2781)\n    * Fixed trailing slash redirect to only apply to GET\/HEAD requests and use 301 status code [#3127](https:\/\/github.com\/getgrav\/grav\/issues\/3127)\n    * Fixed root page to always contain trailing slash [#3127](https:\/\/github.com\/getgrav\/grav\/issues\/3127)\n    * Fixed `<meta name=\"flattr:*\" content=\"*\">` to use name instead property [#3010](https:\/\/github.com\/getgrav\/grav\/pull\/3010)\n    * Fixed behavior of opposite filters in `Pages::getCollection()` to match Grav 1.6 [#3216](https:\/\/github.com\/getgrav\/grav\/pull\/3216)\n    * Fixed modular content with missing template file ending up using non-modular template [#3218](https:\/\/github.com\/getgrav\/grav\/issues\/3218)\n    * Fixed broken attachment image in Flex Objects Admin when `destination: self@` used [#3225](https:\/\/github.com\/getgrav\/grav\/issues\/3225)\n    * Fixed bug in page content with both markdown and twig enabled [#3223](https:\/\/github.com\/getgrav\/grav\/issues\/3223)"},"1.7.5":{"date":"02\/01\/2021","content":"1. [](#bugfix)\n    * Revert: Fixed page save failing because of uploaded images [#3191](https:\/\/github.com\/getgrav\/grav\/issues\/3191) - breaking save"}}}
";